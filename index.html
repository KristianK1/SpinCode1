<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ime stranice</title>
    <link rel="stylesheet"  href="style.css">
</head>
<body>
    <h1 class="naslov">
        Spin Code Academy
    </h1>

    <table id="tablica">
        <tr>
          <th>Pojam</th>
          <th>Opis</th>
          <th>Autor</th>
        </tr>
        <!-- <tr>
          <td>Jill</td>
          <td>Smith</td>
          <td>50</td>
        </tr>
        <tr>
          <td>Eve</td>
          <td>Jackson</td>
          <td>94</td>
        </tr>  -->
      </table>
</body>

<script>
    var test = 100;
    console.log("w")
    var allterms;

    getsmth();

   /* var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    
    cell1.innerHTML = "Svašta";
    cell2.innerHTML = "Svašta";
    cell3.innerHTML = "qq";*/
    function getsmth(){
        
        fetch("https://jupitermobiletest.jupiter-software.com:30081/jupitermobilex/gen/api/food", {
            method : 'POST',
            body: JSON.stringify({
                "queries": [
                    {
                        "query" : "SpinCodeAcademy",
                        "params" : {
                            "action" : "getall",
                            "userid" : 1
                        }
                    }
                ]
            }),
            headers : {
            'Content-Type' : 'application/json'
            }
        }).then(function (response){
            if(response.ok){
                
                console.log("ok");
                return response.json();
            }
        }).then( function( data){
            allterms = data;
            console.log(data);
            setTable();
        }).catch(function(err){
            console.warn("Smth went wrong");
        
        });
    }



    function setTable(){
        var table = document.getElementById("tablica");

        console.log( allterms[0].Term);

        for (let i = 0; i < allterms.length; i++) {
            var row = table.insertRow(i+1);
            var cell1 = row.insertCell(0);
            cell1.innerHTML = allterms[i].Term;

            var cell1 = row.insertCell(1);
            cell1.innerHTML = allterms[i].Description;

            var cell1 = row.insertCell(2);
            cell1.innerHTML = allterms[i].Username;
            
            
        }


    }
</script>
</html>